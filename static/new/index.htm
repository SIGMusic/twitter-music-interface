<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Audiolet - Synth</title>
    <!-- Production -->
    <!--
    <script src="../../src/audiolet/Audiolet.min.js"></script>
    -->

    <!-- Development -->
    <script src="js/Audiolet.js"></script>
    <script src="js/audiofile.js"></script>

    <!-- Common -->
    <script src="js/synth.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
  </head>
  <body>
        <button type="button" onclick="playExample()">&#9654; Play Example</button>
        <br>

        <script type="text/javascript">
          var add='\
                   <p class="note">%TITLE%: <span id="%VALUEID%">0</span> %UNITS% </p>\
                   <input id="%INPUTID%" type="range" min="%MIN%" max="%MAX%" step="%STEP%" />';
          $.each(parameters, function(param, index) {
            var p = parameters[param];
            var toreplace = add.replace("%INPUTID%", "input"+param);
            toreplace = toreplace.replace("%VALUEID%", "value"+param);
            toreplace = toreplace.replace("%MIN%", p.min);
            toreplace = toreplace.replace("%MAX%", p.max);
            toreplace = toreplace.replace("%STEP%", (p.max-p.min)/200.0);
            toreplace = toreplace.replace("%TITLE%", p.category+" : "+p.title);
            toreplace = toreplace.replace("%UNITS%", p.units);
            $("body").append(toreplace);
            var onchange = function() {
              var currentValue = $("#value"+param);
              currentValue.html(this.value);
              try {
                parameters[param].set(this.value);
              } catch(doop) {
              }
            };
            var asdf = $("#input"+param);
            asdf.change(onchange);
            asdf.change();
          });
        </script>
  </body>
</html>
